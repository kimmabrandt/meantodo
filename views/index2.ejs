<!DOCTYPE html>
<html ng-app="app">
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://fonts.googleapis.com/css?family=Space+Mono:400,400i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
    <div class="container">

      <h1><%= title %></h1>

      <div id="todolist">
        <ng-view></ng-view>
      </div>

      <!-- Template - List Display -->

        <script type="text/ng-template" id="/todos.html">
          Search: <input type="text" ng-model="search.name">
          <ul class="todo-ul">
            <li ng-repeat="todo in todos | filter: search">
              <input type="checkbox" ng-model="todo.completed" ng-change="update($index)">
              <a ng-show="!editing[$index]" href="#/{{todo._id}}">{{todo.name}}</a>
              <button ng-show="!editing[$index]" ng-click="edit($index)"><i class="material-icons md-18">create</i></button>
              <button ng-show="!editing[$index]" ng-click="remove($index)"><i class="material-icons md-18">delete</i></button>

              <input ng-show="editing[$index]" type="text" ng-model="todo.name">
              <button ng-show="editing[$index]" ng-click="update($index)">Update</button>
              <button ng-show="editing[$index]" ng-click="cancel($index)">Cancel</button>
            </li>
          </ul>
          New task <input type="text" ng-model="newTodo"><button ng-click="save()">Create</button>
        </script>



      <!-- Template - Todo Details -->
      <script type="text/ng-template" id="/todoDetails.html">
        <h1>{{ todo.name }}</h1>
        completed: <input type="checkbox" ng-model="todo.completed"><br>
        note: <textarea ng-model="todo.note"></textarea><br><br>

        <button ng-click="update()">Update</button>
        <button ng-click="remove()">Remove</button>
        <a href="/">Cancel</a>
      </script>

    </div>
    <!-- Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-resource.min.js"></script>

    <script src="/javascripts/angular.js"></script>
  </body>
</html>
